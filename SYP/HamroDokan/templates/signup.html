{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="{% static "signup.css" %}">
    <title>Signup</title>
</head>
<body>
    <div class="wrapper">
        <nav class="nav">
            <div class="nav-logo">
                <p>Hamro Dokan</p>
                <img src="{% static "loginimg/store.png" %}" alt=""><!--logo image here-->
            </div>
            <div class="nav-menu" id="navMenu">
                <ul>
                    <li><a href="{% url 'home' %}" class="link">Stores</a></li>
                    <li><a href="{% url 'aboutme' %}" class="link">About</a></li>
                </ul>
            </div>
            <div class="nav-menu-btn">
                <i class="bx bx-menu" onclick="myMenuFunction()"></i>
            </div>

        </nav>
        <form method="post">
            {% csrf_token %}
            <div class="form-box">
                <div class="register-container" id="register">
                    <div class="top">
                        <span>Have an account? <a href="{% url 'login' %}">Login</a></span>
                        <header>Sign Up</header>
                    </div>
                    <div class="two-forms">
                        <div class="input-box">
                            <input type="text" class="input-field" placeholder="Username" name='uname'>
                            <i class="bx bx-user"></i>
                        </div>
                    </div>
                    <div class="input-box">
                        <input type="email" class="input-field" placeholder="Email" name='email'>
                        <i class="bx bx-envelope"></i>
                    </div>
                    <div class="input-box">
                        <input type="password" class="input-field" placeholder="Password" name='passwd'>
                        <i class="bx bx-lock-alt"></i>
                    </div>
                    <div class="input-box">
                        <input type="text" class="input-field" placeholder="Address" name='location'>
                        <i class="bx bx-globe"></i>
                    </div>
                    <div class="signup-button">
                        <button type="button" class="signbtn" id="customerBtn" onclick="toggleInput('customer')" name='user_type' value='customer'>Customer</button>
                        <button type="button" class="signbtn" id="vendorBtn" onclick="toggleInput('vendor')" name='user_type' value='vendor'>Vendor</button>
                    </div>
                    <!-- Hidden input field to store the selected user type -->
                    <input type="hidden" id="userTypeField" name="user_type"> 
                    <div class="input-box">
                        <input type="submit" class="submit" value="Register">
                    </div>
                    <div class="two-col">
                        <div class="one">
                            <input type="checkbox" id="register-check">
                            <label for="register-check"> Remember Me</label>
                        </div>
                        <div class="two">
                            <label><a href="{% url 'terms' %}">Terms & conditions</a></label>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- JavaScript for Signup Page -->
    
    <script>
        
        function myMenuFunction() {
            var i = document.getElementById("navMenu");
            
            if(i.className === "nav-menu") {
                i.className += " responsive";
            } else {
                i.className = "nav-menu";
            }
        }
        
    </script>
    
    <script>
        
        var a = document.getElementById("loginBtn");
        var b = document.getElementById("registerBtn");
        var x = document.getElementById("login");
        var y = document.getElementById("register");
        
        function login() {
            x.style.left = "4px";
            y.style.right = "-520px";
            a.className += " white-btn";
            b.className = "btn";
            x.style.opacity = 1;
            y.style.opacity = 0;
        }
        
        function register() {
            x.style.left = "-510px";
            y.style.right = "5px";
            a.className = "btn";
            b.className += " white-btn";
            x.style.opacity = 0;
            y.style.opacity = 1;
        }
    </script>
    

    <script>
        function toggleInput(btnType) {
            console.log("Button clicked: " + btnType);
            var vendorBtn = document.getElementById("vendorBtn");
            var customerBtn = document.getElementById("customerBtn");
            var userTypeField = document.getElementById("userTypeField"); // Hidden input field to store user type

            if (btnType === 'vendor') {
                console.log("Clicked Vendor button");
                vendorBtn.style.backgroundColor = "red"; // Change Vendor button color to red
                customerBtn.style.backgroundColor = ""; // Reset Customer button color
                userTypeField.value = 'vendor';
            } else if (btnType === 'customer') {
                console.log("Clicked Customer button");
                customerBtn.style.backgroundColor = "red"; // Change Customer button color to red
                vendorBtn.style.backgroundColor = ""; // Reset Vendor button color
                userTypeField.value = 'customer'; // Set the value of the hidden input field to 'customer'
            }
        }
    
        function focusInput() {
            var locationField = document.getElementById("locationField");
            if (locationField) {
                locationField.focus();
            } else {
                console.error("Location input field not found!");
            }
        }
    </script>
    

<!-- Display popup messages -->
    
    {% if username_exists %}
        <script>
            // Display popup message if username already exists
            alert("You are already registered. Please try login.");
        </script>
    {% endif %}

    {% if allexists %}
        <script>
            // Display popup message if username already exists
            alert("Please fill in all the required fields.");
        </script>
    {% endif %}

</body>
</html>
